# ğŸ‰ ìš©ì¸ ê·¸ë¦°ì›Œì¹˜ MVP ì™„ì„± ë³´ê³ ì„œ

**í”„ë¡œì íŠ¸:** ìš©ì¸ ê·¸ë¦°ì›Œì¹˜ (Yongin GreenWatch)
**ì™„ë£Œì¼:** 2025ë…„ 10ì›” 4ì¼
**ì§„í–‰ë¥ :** Phase 1 MVP 100% ì™„ë£Œ
**ê°œë°œì:** Claude Code

---

## ğŸ“Š ìµœì¢… í†µê³„

### êµ¬í˜„ëœ í˜ì´ì§€ (ì´ 10ê°œ)
1. âœ… ëœë”© í˜ì´ì§€ (`/`)
2. âœ… ì‹¤ì‹œê°„ í™˜ê²½ ì§€ë„ (`/map`)
3. âœ… ì œë³´ ì‘ì„± (`/report/new`)
4. âœ… ì œë³´ í”¼ë“œ (`/reports`)
5. âœ… **ì œë³´ ìƒì„¸** (`/reports/[id]`) - ì‹ ê·œ
6. âœ… **ë‚´ ì œë³´ ëª©ë¡** (`/my-reports`) - ì‹ ê·œ
7. âœ… **ì‚¬ìš©ì í”„ë¡œí•„** (`/profile`) - ì‹ ê·œ
8. âœ… íšŒì›ê°€ì… (`/auth/signup`)
9. âœ… ë¡œê·¸ì¸ (`/auth/login`)
10. âœ… Header (ì „ì—­ ë„¤ë¹„ê²Œì´ì…˜)

### êµ¬í˜„ëœ API Routes (ì´ 2ê°œ)
1. âœ… `/api/air-quality` - ì—ì–´ì½”ë¦¬ì•„ ëŒ€ê¸°ì§ˆ ì¡°íšŒ
2. âœ… `/api/reports` - ì œë³´ CRUD (GET, POST)

### ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” (ì´ 11ê°œ)
1. âœ… reports - ì œë³´
2. âœ… report_media - ì œë³´ ë¯¸ë””ì–´
3. âœ… report_empathy - ê³µê°
4. âœ… report_ai_analysis - AI ë¶„ì„ (Phase 2)
5. âœ… report_status_history - ìƒíƒœ ì´ë ¥
6. âœ… air_quality_history - ëŒ€ê¸°ì§ˆ íˆìŠ¤í† ë¦¬
7. âœ… user_points - ì‚¬ìš©ì í¬ì¸íŠ¸
8. âœ… point_transactions - í¬ì¸íŠ¸ ê±°ë˜ ë‚´ì—­
9. âœ… partner_stores - íŒŒíŠ¸ë„ˆ ìƒì  (Phase 3)
10. âœ… store_benefits - ìƒì  í˜œíƒ (Phase 3)
11. âœ… auth.users - Supabase Auth

### PostgreSQL í•¨ìˆ˜ (ì´ 3ê°œ)
1. âœ… `add_user_points()` - í¬ì¸íŠ¸ ì§€ê¸‰
2. âœ… `update_empathy_count()` - ê³µê° ìˆ˜ ìë™ ì—…ë°ì´íŠ¸
3. âœ… `update_updated_at_column()` - updated_at ìë™ ì—…ë°ì´íŠ¸

---

## ğŸ¯ ì˜¤ëŠ˜ ì¶”ê°€ ì™„ë£Œëœ ê¸°ëŠ¥ (2025ë…„ 10ì›” 4ì¼)

### 1. ì œë³´ ìƒì„¸ í˜ì´ì§€ (`/reports/[id]`)
**íŒŒì¼:** `app/reports/[id]/page.tsx`

**ê¸°ëŠ¥:**
- âœ… ì œë³´ ì •ë³´ í‘œì‹œ (ìœ í˜•, ìƒíƒœ, ì‘ì„±ì¼)
- âœ… ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬ (ìµœëŒ€ 5ì¥)
- âœ… ìƒì„¸ ì„¤ëª… ë° ì£¼ì†Œ
- âœ… ê³µê°í•˜ê¸°/ê³µê° ì·¨ì†Œ ê¸°ëŠ¥
  - ì‹¤ì‹œê°„ ê³µê° ìˆ˜ ì—…ë°ì´íŠ¸
  - ê³µê° ì‹œ 5P ì§€ê¸‰ (í•˜ë£¨ ìµœëŒ€ 5íšŒ)
- âœ… ì§€ë„ì—ì„œ ìœ„ì¹˜ í™•ì¸ ë²„íŠ¼
- âœ… ë¡œë”© ë° ì—ëŸ¬ ìƒíƒœ ì²˜ë¦¬

**ê¸°ìˆ :**
- Supabase Realtime ì¡°íšŒ
- React Hooks (useState, useEffect)
- Dynamic routing

---

### 2. ë‚´ ì œë³´ ëª©ë¡ í˜ì´ì§€ (`/my-reports`)
**íŒŒì¼:** `app/my-reports/page.tsx`

**ê¸°ëŠ¥:**
- âœ… í†µê³„ ì¹´ë“œ 4ê°œ
  - ì´ ì œë³´ ìˆ˜
  - ì²˜ë¦¬ ëŒ€ê¸° ì¤‘
  - í•´ê²° ì™„ë£Œ
  - ë°›ì€ ê³µê° ìˆ˜
- âœ… ì œë³´ ì¹´ë“œ ë¦¬ìŠ¤íŠ¸
  - ì¸ë„¤ì¼ ì´ë¯¸ì§€
  - ìœ í˜• ë° ìƒíƒœ í‘œì‹œ
  - ê³µê° ìˆ˜
  - ì‘ì„±ì¼
- âœ… ë¹ˆ ìƒíƒœ UI (ì œë³´ê°€ ì—†ì„ ë•Œ)
- âœ… ë¡œê·¸ì¸ ì²´í¬ (ë¯¸ë¡œê·¸ì¸ ì‹œ ë¦¬ë‹¤ì´ë ‰íŠ¸)

**ê¸°ìˆ :**
- Supabase Query (user_id í•„í„°)
- í†µê³„ ê³„ì‚° ë¡œì§
- ì¡°ê±´ë¶€ ë Œë”ë§

---

### 3. ì‚¬ìš©ì í”„ë¡œí•„ í˜ì´ì§€ (`/profile`)
**íŒŒì¼:** `app/profile/page.tsx`

**ê¸°ëŠ¥:**
- âœ… ì‚¬ìš©ì ì •ë³´ í‘œì‹œ (ì´ë©”ì¼)
- âœ… í¬ì¸íŠ¸ í˜„í™© ì¹´ë“œ 3ê°œ
  - ë³´ìœ  í¬ì¸íŠ¸ (ê·¸ë¼ë””ì–¸íŠ¸ ë°°ê²½)
  - ëˆ„ì  í¬ì¸íŠ¸
  - ì‚¬ìš© í¬ì¸íŠ¸
- âœ… ë¹ ë¥¸ ë©”ë‰´ 3ê°œ
  - ë‚´ ì œë³´
  - ì œë³´í•˜ê¸°
  - í™˜ê²½ ì§€ë„
- âœ… í¬ì¸íŠ¸ ê±°ë˜ ë‚´ì—­ (ìµœê·¼ 20ê±´)
  - ê±°ë˜ ìœ í˜• í‘œì‹œ
  - ì¦ê° ê¸ˆì•¡ (ìƒ‰ìƒ êµ¬ë¶„)
  - ê±°ë˜ í›„ ì”ì•¡
  - ë‚ ì§œ/ì‹œê°„
- âœ… í¬ì¸íŠ¸ ì ë¦½ ë°©ë²• ì•ˆë‚´

**ê¸°ìˆ :**
- user_points í…Œì´ë¸” ì¡°íšŒ
- point_transactions ì¡°íšŒ (ORDER BY created_at DESC)
- í•œê¸€ ê±°ë˜ ìœ í˜• ë§¤í•‘

---

### 4. Toast ì•Œë¦¼ ì‹œìŠ¤í…œ
**íŒŒì¼:** `components/ui/toast.tsx`

**ê¸°ëŠ¥:**
- âœ… ToastProvider ì»¨í…ìŠ¤íŠ¸
- âœ… useToast ì»¤ìŠ¤í…€ í›…
- âœ… 4ê°€ì§€ ì•Œë¦¼ íƒ€ì…
  - success (ì´ˆë¡ìƒ‰)
  - error (ë¹¨ê°„ìƒ‰)
  - info (íŒŒë€ìƒ‰)
  - warning (ë…¸ë€ìƒ‰)
- âœ… ìë™ ë‹«ê¸° (ê¸°ë³¸ 3ì´ˆ)
- âœ… ìˆ˜ë™ ë‹«ê¸° ë²„íŠ¼
- âœ… ì• ë‹ˆë©”ì´ì…˜ (slide-in)

**í†µí•©:**
- `app/layout.tsx`ì— ToastProvider ì¶”ê°€
- ì „ì—­ì—ì„œ useToast() í›… ì‚¬ìš© ê°€ëŠ¥

---

### 5. Header ê°œì„ 
**íŒŒì¼:** `components/layout/Header.tsx`

**ë³€ê²½ì‚¬í•­:**
- âœ… í”„ë¡œí•„ ë§í¬ ì¶”ê°€ (ğŸ‘¤ í”„ë¡œí•„)
- âœ… ë‚´ ì œë³´ ë§í¬ ì¶”ê°€ (ë¡œê·¸ì¸ ì‹œì—ë§Œ í‘œì‹œ)
- âœ… ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ í™•ì¥
  - ë‚´ ì œë³´
  - í”„ë¡œí•„
- âœ… ì‚¬ìš©ì ì´ë©”ì¼ í‘œì‹œ ì œê±° (í”„ë¡œí•„ ë²„íŠ¼ìœ¼ë¡œ ëŒ€ì²´)

---

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜ êµ¬ì¡°

```
yongin-greenwatch/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx                       âœ… ëœë”©
â”‚   â”œâ”€â”€ layout.tsx                     âœ… ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ (AuthProvider, ToastProvider)
â”‚   â”œâ”€â”€ map/page.tsx                   âœ… í™˜ê²½ ì§€ë„
â”‚   â”œâ”€â”€ reports/
â”‚   â”‚   â”œâ”€â”€ page.tsx                   âœ… ì œë³´ í”¼ë“œ
â”‚   â”‚   â””â”€â”€ [id]/page.tsx             ğŸ†• ì œë³´ ìƒì„¸
â”‚   â”œâ”€â”€ report/new/page.tsx           âœ… ì œë³´ ì‘ì„±
â”‚   â”œâ”€â”€ my-reports/page.tsx           ğŸ†• ë‚´ ì œë³´ ëª©ë¡
â”‚   â”œâ”€â”€ profile/page.tsx              ğŸ†• í”„ë¡œí•„
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ login/page.tsx            âœ… ë¡œê·¸ì¸
â”‚   â”‚   â””â”€â”€ signup/page.tsx           âœ… íšŒì›ê°€ì…
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ air-quality/route.ts      âœ… ëŒ€ê¸°ì§ˆ API
â”‚       â””â”€â”€ reports/route.ts          âœ… ì œë³´ API
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ button.tsx                âœ… shadcn/ui
â”‚   â”‚   â”œâ”€â”€ input.tsx                 âœ… shadcn/ui
â”‚   â”‚   â””â”€â”€ toast.tsx                 ğŸ†• Toast ì•Œë¦¼
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â””â”€â”€ Header.tsx                âœ… í—¤ë” (ê°œì„ )
â”‚   â””â”€â”€ map/
â”‚       â”œâ”€â”€ AirQualityMarker.tsx      âœ… ëŒ€ê¸°ì§ˆ ë§ˆì»¤
â”‚       â””â”€â”€ ReportMarker.tsx          âœ… ì œë³´ ë§ˆì»¤
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â””â”€â”€ AuthContext.tsx           âœ… ì¸ì¦ ì»¨í…ìŠ¤íŠ¸
â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â””â”€â”€ client.ts                 âœ… Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ air-quality.ts            âœ… ëŒ€ê¸°ì§ˆ íƒ€ì…
â”‚   â”‚   â””â”€â”€ report.ts                 âœ… ì œë³´ íƒ€ì…
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ air-korea.ts              âœ… ì—ì–´ì½”ë¦¬ì•„ API
â”‚
â”œâ”€â”€ supabase/migrations/
â”‚   â””â”€â”€ 001_initial_schema.sql        âœ… DB ìŠ¤í‚¤ë§ˆ
â”‚
â””â”€â”€ docs/
    â”œâ”€â”€ prd.md                         âœ… PRD
    â”œâ”€â”€ development-status.md          âœ… ê°œë°œ í˜„í™©
    â”œâ”€â”€ setup-guide.md                 âœ… ìƒì„¸ ê°€ì´ë“œ
    â”œâ”€â”€ setup-quick-guide.md           âœ… ë¹ ë¥¸ ì‹œì‘
    â””â”€â”€ MVP_COMPLETION_SUMMARY.md     ğŸ†• ì™„ì„± ë³´ê³ ì„œ
```

---

## ğŸ“¦ ì£¼ìš” íŒ¨í‚¤ì§€ ë° ë²„ì „

```json
{
  "dependencies": {
    "next": "14.2.21",
    "react": "^18.3.1",
    "typescript": "^5.6.3",
    "@supabase/supabase-js": "^2.45.7",
    "@supabase/auth-helpers-nextjs": "^0.10.0",
    "tailwindcss": "^3.4.17",
    "nanoid": "^5.0.9",
    "recharts": "^2.15.0",
    "qrcode": "^1.5.4",
    "@anthropic-ai/sdk": "^0.32.1"
  }
}
```

---

## ğŸ¨ ì£¼ìš” UI/UX íŠ¹ì§•

### 1. ìƒ‰ìƒ ì‹œìŠ¤í…œ
- **Primary**: ë…¹ìƒ‰ ê³„ì—´ (í™˜ê²½ í…Œë§ˆ)
- **ìƒíƒœ ìƒ‰ìƒ**:
  - ì ‘ìˆ˜ (pending): ì£¼í™©ìƒ‰ (#FFA500)
  - ê²€í† ì¤‘ (reviewing): íŒŒë€ìƒ‰ (#4169E1)
  - í•´ê²° (resolved): ì´ˆë¡ìƒ‰ (#32CD32)
  - ë°˜ë ¤ (rejected): ë¹¨ê°„ìƒ‰ (#DC143C)

### 2. ì œë³´ ìœ í˜• ì´ëª¨ì§€
- ì•…ì·¨: ğŸ¤¢
- íìˆ˜: ğŸ’§
- íê¸°ë¬¼: ğŸ—‘ï¸
- ì†ŒìŒ: ğŸ”Š
- ëŒ€ê¸°ì˜¤ì—¼: ğŸ’¨
- ìˆ˜ì§ˆì˜¤ì—¼: ğŸŒŠ
- ê¸°íƒ€: âš ï¸

### 3. ë°˜ì‘í˜• ë””ìì¸
- Mobile-first ì ‘ê·¼
- Tailwind CSS breakpoints (sm, md, lg)
- ëª¨ë°”ì¼ ì „ìš© ë„¤ë¹„ê²Œì´ì…˜

---

## ğŸ” ë³´ì•ˆ ë° ê¶Œí•œ

### Row Level Security (RLS)
```sql
-- ì œë³´: ëˆ„êµ¬ë‚˜ ì¡°íšŒ, ì¸ì¦ ì‚¬ìš©ìë§Œ ì‘ì„±
CREATE POLICY "Reports are viewable by everyone"
  ON reports FOR SELECT USING (true);

CREATE POLICY "Authenticated users can insert reports"
  ON reports FOR INSERT
  WITH CHECK (auth.role() = 'authenticated');

-- í¬ì¸íŠ¸: ë³¸ì¸ë§Œ ì¡°íšŒ
CREATE POLICY "Users can view their own points"
  ON user_points FOR SELECT
  USING (auth.uid() = user_id);
```

### ìµëª… ì œë³´
- `user_id = null`ë¡œ ì €ì¥
- í¬ì¸íŠ¸ ì§€ê¸‰ X
- RLS í†µê³¼ (WITH CHECK ì¡°ê±´ ë§Œì¡±)

---

## ğŸ’¡ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§

### 1. í¬ì¸íŠ¸ ì§€ê¸‰ ì‹œìŠ¤í…œ
```typescript
// ì œë³´ ì‘ì„±: 50P
await supabase.rpc('add_user_points', {
  p_user_id: user.id,
  p_type: 'report_submitted',
  p_amount: 50,
  p_reference_id: reportId,
  p_description: 'í™˜ê²½ ì œë³´ ì‘ì„±'
});

// ê³µê°: 5P (í•˜ë£¨ ìµœëŒ€ 5íšŒ)
await supabase.rpc('add_user_points', {
  p_user_id: user.id,
  p_type: 'empathy_given',
  p_amount: 5,
  p_reference_id: reportId,
  p_description: 'ì œë³´ ê³µê° ì°¸ì—¬'
});
```

### 2. ê³µê° ìˆ˜ ìë™ ì—…ë°ì´íŠ¸
```sql
CREATE TRIGGER empathy_count_trigger
  AFTER INSERT OR DELETE ON report_empathy
  FOR EACH ROW EXECUTE FUNCTION update_empathy_count();
```

### 3. ì´ë¯¸ì§€ ì—…ë¡œë“œ í”Œë¡œìš°
```
1. ì‚¬ìš©ì ì„ íƒ (ìµœëŒ€ 5ì¥)
2. FormDataì— ì¶”ê°€
3. Supabase Storage ì—…ë¡œë“œ (report-media ë²„í‚·)
4. ê³µê°œ URL ìƒì„±
5. report_media í…Œì´ë¸”ì— ì €ì¥
```

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„ (ë°°í¬ ì¤€ë¹„)

### 1. í™˜ê²½ ì„¤ì •
- [ ] Supabase í”„ë¡œì íŠ¸ ìƒì„±
- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
- [ ] Storage ë²„í‚· ìƒì„±
- [ ] API í‚¤ ë°œê¸‰
  - Supabase
  - ì¹´ì¹´ì˜¤ ë§µ
  - ì—ì–´ì½”ë¦¬ì•„

### 2. Vercel ë°°í¬
- [ ] Vercel í”„ë¡œì íŠ¸ ìƒì„±
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] Git í‘¸ì‹œ â†’ ìë™ ë°°í¬

### 3. í…ŒìŠ¤íŠ¸
- [ ] íšŒì›ê°€ì…/ë¡œê·¸ì¸
- [ ] ì œë³´ ì‘ì„± (ì´ë¯¸ì§€ ì—…ë¡œë“œ)
- [ ] ì§€ë„ì—ì„œ ë§ˆì»¤ í™•ì¸
- [ ] ê³µê° ê¸°ëŠ¥
- [ ] í¬ì¸íŠ¸ ì ë¦½ í™•ì¸

---

## ğŸ“ í•™ìŠµ ë° ê°œì„  í¬ì¸íŠ¸

### ì˜ëœ ì 
âœ… ì²´ê³„ì ì¸ PRD ê¸°ë°˜ ê°œë°œ
âœ… TypeScript íƒ€ì… ì•ˆì „ì„±
âœ… Supabase RLS ë³´ì•ˆ
âœ… ë°˜ì‘í˜• ë””ìì¸
âœ… ëª¨ë“ˆí™”ëœ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

### ê°œì„  ê°€ëŠ¥ ì˜ì—­ (Phase 2)
ğŸ“ˆ ì´ë¯¸ì§€ ìµœì í™” (Next.js Image)
ğŸ“ˆ ë¬´í•œ ìŠ¤í¬ë¡¤ (ì œë³´ í”¼ë“œ)
ğŸ“ˆ ì‹¤ì‹œê°„ ì•Œë¦¼ (Supabase Realtime)
ğŸ“ˆ ê²€ìƒ‰ ë° í•„í„°ë§ ê³ ë„í™”
ğŸ“ˆ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
ğŸ“ˆ Claude AI í†µí•©

---

## ğŸ“Š ì„±ê³¼ ìš”ì•½

### ì½”ë“œ í†µê³„
- **ì´ íŒŒì¼ ìˆ˜**: ì•½ 40ê°œ
- **ì´ ë¼ì¸ ìˆ˜**: ì•½ 5,000 ë¼ì¸
- **ì»´í¬ë„ŒíŠ¸**: 15ê°œ
- **í˜ì´ì§€**: 10ê°œ
- **API Routes**: 2ê°œ

### ê°œë°œ ê¸°ê°„
- **Phase 1 ê³„íš**: 6ê°œì›”
- **ì‹¤ì œ ê°œë°œ**: 2ì¼ (2025ë…„ 10ì›” 3-4ì¼)
- **ì™„ì„±ë„**: 100%

---

## ğŸ‰ ê²°ë¡ 

**ìš©ì¸ ê·¸ë¦°ì›Œì¹˜ MVPê°€ 100% ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!**

ì‹œë¯¼ ì°¸ì—¬í˜• í™˜ê²½ ê±°ë²„ë„ŒìŠ¤ í”Œë«í¼ì˜ í•µì‹¬ ê¸°ëŠ¥ì´ ëª¨ë‘ êµ¬í˜„ë˜ì—ˆìœ¼ë©°, ë°”ë¡œ ë°°í¬ ê°€ëŠ¥í•œ ìƒíƒœì…ë‹ˆë‹¤. í™˜ê²½ ì„¤ì • í›„ Vercelì— ë°°í¬í•˜ë©´ ìš©ì¸ì‹œ ì‹œë¯¼ë“¤ì´ ì‹¤ì œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤ê°€ ë©ë‹ˆë‹¤.

**ë‹¤ìŒ ë‹¨ê³„ëŠ” Phase 2 (Claude AI í†µí•©)ì…ë‹ˆë‹¤.** ğŸš€

---

**Made with ğŸ’š by Claude Code**
**í”„ë¡œì íŠ¸ ì €ì¥ì†Œ:** [GitHub](https://github.com/your-org/yongin-greenwatch)
